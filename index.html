<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Birthday Card</title>
    <!-- Google Font-->
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet"/>
    <!-- Stylesheet -->
    <link rel="stylesheet" href="css/style.css"/>
    <style>
        /* æç¤ºæ¡†æ ·å¼ */
        .tooltip {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            font-size: 18px;
            text-align: center;
            z-index: 2000;
            animation: fadeInOut 10s ease-in-out;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
            10% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            90% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
    </style>
</head>
<body>
<div class="card">
    <div class="outside">
        <div class="front">
            <p>Happy Birthday</p>
            <div class="cake">
                <div class="top-layer"></div>
                <div class="middle-layer"></div>
                <div class="bottom-layer"></div>
                <div class="candle"></div>
            </div>
        </div>
        <div class="back">
		<p> To Nafisa : </p>
	</div>
    </div>
    <div class="inside">
        <p> My journey is a sea of stars.
            The place I want to go is warm in spring.</p>

        <h1><a href="https://www.bilibili.com/video/BV1ab411n7no?vd_source=f7a0239227b49de0e8627f0e0dfae3d4" target="_blank" style="text-decoration: none; color: inherit;" title="ç‚¹å‡»æŸ¥çœ‹ç”Ÿæ—¥ç¥ç¦è§†é¢‘">&#127873;</a></h1>
    </div>
</div>
<audio id="birthday-music" loop>
    <source src="music/hb.mp3" type="audio/mpeg">
</audio>

<!-- éŸ³ä¹æ’­æ”¾æŒ‰é’® -->
<button id="music-toggle" class="music-button" title="ç‚¹å‡»æ’­æ”¾/æš‚åœéŸ³ä¹">
    <span class="icon">ğŸµ</span>
</button>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const audio = document.getElementById('birthday-music');
        const musicButton = document.getElementById('music-toggle');
        let isPlaying = false;
        
        // å°è¯•åœ¨é¡µé¢åŠ è½½åè‡ªåŠ¨æ’­æ”¾ï¼ˆåˆå§‹è®¾ç½®ä¸ºé™éŸ³ï¼‰
        audio.muted = true;
        audio.play().catch(function(error) {
            console.log('è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’:', error);
        });
        
        // éŸ³ä¹æ§åˆ¶æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        musicButton.addEventListener('click', function() {
            if (isPlaying) {
                // æš‚åœéŸ³ä¹
                audio.pause();
                musicButton.classList.remove('playing');
            } else {
                // æ’­æ”¾éŸ³ä¹
                audio.muted = false;
                audio.play();
                musicButton.classList.add('playing');
            }
            isPlaying = !isPlaying;
        });
        
        // æ·»åŠ å…¨å±€ç‚¹å‡»äº‹ä»¶ä½œä¸ºåå¤‡æ–¹æ¡ˆ
        function playOnFirstInteraction() {
            if (!isPlaying) {
                audio.muted = false;
                audio.play().then(function() {
                    isPlaying = true;
                    musicButton.classList.add('playing');
                }).catch(function(error) {
                    console.log('æ’­æ”¾å¤±è´¥:', error);
                });
            }
            document.removeEventListener('click', playOnFirstInteraction);
            document.removeEventListener('touchstart', playOnFirstInteraction);
        }
        
        document.addEventListener('click', playOnFirstInteraction);
        document.addEventListener('touchstart', playOnFirstInteraction);
    });
</script>

<!-- æç¤ºæ¡† -->
<div class="tooltip" id="tooltip">
    ç‚¹å‡»éŸ³ä¹æ’­æ”¾ç¾å¦™ï¼<br>
    å¬å®ŒéŸ³ä¹å†æ¥æ‰“å¼€ç¤¼ç‰©ï¼
</div>

<script>
    // æç¤ºæ¡†10ç§’åè‡ªåŠ¨æ¶ˆå¤±
    setTimeout(function() {
        const tooltip = document.getElementById('tooltip');
        tooltip.style.display = 'none';
    }, 10000);
</script>

</body>
</html>
